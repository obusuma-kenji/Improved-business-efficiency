<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥­å‹™åŠ¹ç‡åŒ–è¨ºæ–­ãƒ»æ”¹å–„è¨ˆç”»ãƒ„ãƒ¼ãƒ«</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 50%, #581c87 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2563eb, #7c3aed);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .nav {
            display: flex;
            background: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
            overflow-x: auto;
        }

        .nav-button {
            flex: 1;
            min-width: 150px;
            padding: 15px 10px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #64748b;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .nav-button:hover {
            background: #e0f2fe;
            color: #0284c7;
        }

        .nav-button.active {
            color: #2563eb;
            border-bottom-color: #2563eb;
            background: white;
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 20px;
            font-weight: bold;
            color: #1e40af;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #dbeafe;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .input-group input,
        .input-group select,
        .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .button {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5);
        }

        .button:active {
            transform: translateY(0);
        }

        .button-secondary {
            background: #f3f4f6;
            color: #374151;
            box-shadow: none;
        }

        .button-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .card-title {
            font-weight: 600;
            color: #1e40af;
            font-size: 16px;
        }

        .checkbox-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: flex-start;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
            margin-top: 4px;
        }

        .checkbox-item label {
            flex: 1;
            font-size: 14px;
            cursor: pointer;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: bold;
            color: #1e40af;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: #64748b;
        }

        .tool-recommendation {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #f59e0b;
            margin-bottom: 15px;
        }

        .tool-recommendation h4 {
            color: #92400e;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .tool-recommendation p {
            color: #78350f;
            font-size: 14px;
            line-height: 1.6;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .table th,
        .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
            font-size: 14px;
        }

        .table th {
            background: #f8fafc;
            font-weight: 600;
            color: #374151;
        }

        .table tr:hover {
            background: #f8fafc;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border-left: 4px solid #10b981;
        }

        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border-left: 4px solid #f59e0b;
        }

        .alert-info {
            background: #dbeafe;
            color: #1e40af;
            border-left: 4px solid #3b82f6;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e5e7eb;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 12px;
        }

        @media (max-width: 768px) {
            .content {
                padding: 15px;
            }

            .nav-button {
                font-size: 12px;
                padding: 12px 8px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .checkbox-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // localStorageã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
        const storage = {
            getItem: (key) => {
                try {
                    return localStorage.getItem(key);
                } catch (e) {
                    console.warn('localStorage access failed:', e);
                    return null;
                }
            },
            setItem: (key, value) => {
                try {
                    localStorage.setItem(key, value);
                } catch (e) {
                    console.warn('localStorage write failed:', e);
                }
            }
        };

        // ãƒ‡ãƒ¼ã‚¿å®šç¾©
        const workloadLevels = [
            { value: 'light', label: 'è»½ã„', description: 'ãƒ«ãƒ¼ãƒãƒ³ä½œæ¥­ã€è² æ‹…ãŒå°‘ãªã„' },
            { value: 'normal', label: 'æ™®é€š', description: 'é€šå¸¸ã®æ¥­å‹™è² è·' },
            { value: 'heavy', label: 'é‡ã„', description: 'é›†ä¸­åŠ›ãƒ»åˆ¤æ–­åŠ›ãŒå¿…è¦' },
            { value: 'very_heavy', label: 'éå¸¸ã«é‡ã„', description: 'é«˜åº¦ãªã‚¹ã‚­ãƒ«ãƒ»è²¬ä»»ãŒå¿…è¦' }
        ];

        const businessTypes = [
            { value: 'routine', label: 'å®šå‹ãƒ»ç¹°è¿”ã—å‹', description: 'æ¥­å‹™å†…å®¹ãƒ»å‡¦ç†æ–¹æ³•ãŒå›ºå®šçš„' },
            { value: 'judgment', label: 'åˆ¤æ–­å‹', description: 'çŸ¥è­˜ãƒ»æƒ…å ±ãƒ»çµŒé¨“ã‚’ã‚‚ã¨ã«åˆ¤æ–­ãŒå¿…è¦' },
            { value: 'cross_department', label: 'éƒ¨é–€æ¨ªæ–­å‹', description: 'çµ„ç¹”ã‚’ã¾ãŸãŒã£ãŸèª¿æ•´ãŒå¿…è¦' },
            { value: 'project', label: 'ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‹', description: 'ä¼ç”»çš„è¦ç´ ãŒã‚ã‚Šã€ç¹°è¿”ã—æ€§ãŒå°‘ãªã„' }
        ];

        const problems = [
            { id: 1, text: 'éƒ¨é–€ã§å®Ÿæ–½ã—ã¦ã„ã‚‹æ¥­å‹™é …ç›®ãŒè¦‹ãˆãªã„', type: 'M' },
            { id: 2, text: 'æ¥­å‹™åˆ†æ‹…ãŒè¦‹ãˆãªã„ï¼ˆä¸æ˜ç¢ºï¼‰', type: 'M' },
            { id: 3, text: 'æ¥­å‹™é‡ãŒåˆ†ã‹ã‚‰ãªã„', type: 'M' },
            { id: 4, text: 'æ¥­å‹™ã®ç™ºç”Ÿã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒåˆ†ã‹ã‚‰ãªã„', type: 'M' },
            { id: 5, text: 'æ‹…å½“è€…ãŒä¿æœ‰ã—ã¦ã„ã‚‹ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ãŒè¦‹ãˆãªã„', type: 'M' },
            { id: 6, text: 'æ¥­å‹™ãŒå±äººåŒ–ã—ã¦ã„ã‚‹', type: 'U' },
            { id: 7, text: 'æ¥­å‹™ãŒç‰¹å®šã®äººã«é›†ä¸­ã—ã¦ã„ã‚‹', type: 'U' },
            { id: 8, text: 'ç‰¹å®šã®æ™‚æœŸã«æ¥­å‹™é‡ãŒé›†ä¸­ã—ã¦ã„ã‚‹ãŒã€äººçš„ãƒªã‚½ãƒ¼ã‚¹ãŒè¶³ã‚Šãªã„', type: 'U' },
            { id: 9, text: 'æ­£ç¤¾å“¡ãŒã™ã‚‹å¿…è¦ãŒãªã„æ¥­å‹™ã‚’æ­£ç¤¾å“¡ãŒè¡Œã£ã¦ã„ã‚‹', type: 'U' },
            { id: 10, text: 'ãƒ™ãƒ†ãƒ©ãƒ³ç¤¾å“¡ãŒã™ã‚‹å¿…è¦ãŒãªã„æ¥­å‹™ã‚’ãƒ™ãƒ†ãƒ©ãƒ³ç¤¾å“¡ãŒè¡Œã£ã¦ã„ã‚‹', type: 'U' },
            { id: 11, text: 'æ¥­å‹™ç›®çš„ãŒä¸æ˜ç¢ºãªæ¥­å‹™ãŒã‚ã‚‹', type: 'M' },
            { id: 12, text: 'æ±‚ã‚ã‚‰ã‚Œã‚‹ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãŒä¸æ˜ç¢ºãªæ¥­å‹™ãŒã‚ã‚‹', type: 'M' },
            { id: 13, text: 'æ¥­å‹™ã®ã‚„ã‚Šæ–¹ãŒæ±ºã¾ã£ã¦ã„ãªã„ï¼ˆæ‹…å½“è€…ä»»ã›ï¼‰', type: 'M' },
            { id: 14, text: 'æ¥­å‹™ã‚’è¡Œã†ä¸Šã§ã®åˆ¤æ–­åŸºæº–ãŒä¸æ˜ç¢º', type: 'M' },
            { id: 15, text: 'æ‰‹å…¥åŠ›ãªã©æ‰‹ä½œæ¥­ãŒå¤šã„', type: 'M' },
            { id: 16, text: 'ãƒã‚§ãƒƒã‚¯å›æ•°ãŒå¤šãã€ãƒã‚§ãƒƒã‚¯ã«å¤šãã®å·¥æ•°ãŒã‹ã‹ã‚‹', type: 'M' },
            { id: 17, text: 'æŠ¼å°ï¼ˆæ‰¿èªï¼‰å›æ•°ãŒå¤šãã€æŠ¼å°ï¼ˆæ‰¿èªï¼‰è¡Œç‚ºã«å¤šãã®å·¥æ•°ãƒ»ãƒªãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ ãŒã‹ã‹ã‚‹', type: 'M' },
            { id: 18, text: 'ã‚·ã‚¹ãƒ†ãƒ é€£æºã‚„ã‚·ã‚¹ãƒ†ãƒ æ©Ÿèƒ½ãŒä¸ååˆ†', type: 'M' },
            { id: 19, text: 'å‰å·¥ç¨‹ãŒçµ‚ãˆã‚‹ã®ã‚’å¾…ã£ã¦ãŠã‚Šã€æ‰‹å¾…ã¡ãŒç™ºç”Ÿã™ã‚‹', type: 'M' },
            { id: 20, text: 'åŒã˜æ¥­å‹™ã‚’è¤‡æ•°äººãŒæ‹…å½“ã—ã¦ã„ã‚‹ãŒã€ç”Ÿç”£æ€§ãƒ»å“è³ªã«ãƒãƒ©ã¤ããŒã‚ã‚‹', type: 'P' },
            { id: 21, text: 'æ¥­å‹™ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãŒãªã„ãƒ»ä¸ååˆ†', type: 'M' },
            { id: 22, text: 'å®šæ™‚å‰ã®æ™‚é–“ã«æ¥­å‹™ãŒç™ºç”Ÿã™ã‚‹ãŸã‚ã€æ®‹æ¥­ã«ãªã£ã¦ã„ã‚‹', type: 'M' },
            { id: 23, text: 'é¡§å®¢ã”ã¨ã®å€‹åˆ¥å¯¾å¿œãŒç™ºç”Ÿã—ã¦ãŠã‚Šã€æ‰‹é–“ãŒã‹ã‹ã£ã¦ã„ã‚‹', type: 'M' },
            { id: 24, text: 'ä¾‹å¤–å‡¦ç†ãŒå¤šã„', type: 'M' },
            { id: 25, text: 'äº‹å‹™æ‰€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒæ¥­å‹™ã®æµã‚Œã¨åˆã£ã¦ã„ãªã„', type: 'M' },
            { id: 26, text: 'æ¥­å‹™ãƒŸã‚¹ãŒå¤šã„ï¼ˆè‡ªè²¬ãƒŸã‚¹ï¼‰', type: 'P' },
            { id: 27, text: 'ç‰¹å®šã®äººã®æ¥­å‹™ãƒŸã‚¹ãŒå¤šã„ï¼ˆè‡ªè²¬ãƒŸã‚¹ï¼‰', type: 'P' },
            { id: 28, text: 'å‰å·¥ç¨‹éƒ¨é–€ã®æ¥­å‹™ãƒŸã‚¹ãŒå¤šã„ï¼ˆä»–è²¬ãƒŸã‚¹ï¼‰', type: 'M' },
            { id: 29, text: 'æ¥­å‹™ãƒŸã‚¹ã¯å°‘ãªã„ãŒã€ç™ºç”Ÿã—ãŸéš›ã®å½±éŸ¿åº¦ãŒå¤§ãã„', type: 'M' },
            { id: 30, text: 'è³‡æ–™ä½œæˆã®ã‚¹ã‚­ãƒ«ä¸è¶³ã«ã‚ˆã‚Šã€å¿…è¦ä»¥ä¸Šã«å·¥æ•°ãŒã‹ã‹ã£ã¦ã„ã‚‹', type: 'P' },
            { id: 31, text: 'è³‡æ–™ä½œæˆã®æ‰‹æˆ»ã‚ŠãŒå¤šã„', type: 'M' },
            { id: 32, text: 'è³‡æ–™ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒãƒãƒ©ãƒãƒ©ã«ãªã£ã¦ãŠã‚Šã€å¿…è¦ä»¥ä¸Šã«å·¥æ•°ãŒã‹ã‹ã£ã¦ã„ã‚‹', type: 'M' },
            { id: 33, text: 'ä¼šè­°ã«ã‹ã‘ã‚‹æ™‚é–“ãŒå¤šã„', type: 'M' },
            { id: 34, text: 'ç›®çš„ãŒä¸æ˜ç¢ºãªä¼šè­°ãŒã‚ã‚‹', type: 'M' },
            { id: 35, text: 'ä¼šè­°ãŒäºˆå®šæ™‚é–“é€šã‚Šã«å§‹ã¾ã‚‰ãªã„ãƒ»çµ‚ã‚ã‚‰ãªã„', type: 'M' },
            { id: 36, text: 'ãƒ¡ãƒ¼ãƒ«ï¼ˆæ›¸ããƒ»èª­ã‚€ãƒ»æ¢ã™ï¼‰æ™‚é–“ãŒå¤šã„', type: 'M' },
            { id: 37, text: '1æ—¥ã®ãƒ¡ãƒ¼ãƒ«ä»¶æ•°ãŒå¤šãã€ãƒ¡ãƒ¼ãƒ«ãƒã‚§ãƒƒã‚¯ã«å¤šãã®æ™‚é–“ãŒã‹ã‹ã‚‹', type: 'M' },
            { id: 38, text: 'ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ãŒç°¡æ½”ã§ãªãã€æ›¸ããƒ»èª­ã‚€ã«æ™‚é–“ãŒã‹ã‹ã‚‹', type: 'M' },
            { id: 39, text: 'å€‹äººã®æ¥­å‹™ã‚¹ã‚­ãƒ«ãŒä½ã„ãŸã‚ã€å¤šãã®å·¥æ•°ãŒã‹ã‹ã£ã¦ã„ã‚‹', type: 'P' },
            { id: 40, text: 'å€‹äººã®åŸºç¤ã‚¹ã‚­ãƒ«ï¼ˆPCã‚¹ã‚­ãƒ«ç­‰ï¼‰ãŒä½ã„ãŸã‚ã€å¤šãã®å·¥æ•°ãŒã‹ã‹ã£ã¦ã„ã‚‹', type: 'P' },
            { id: 41, text: 'å¿…è¦ãªç´™ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ãã«å–ã‚Šå‡ºã›ãšã€æ¢ã™ã®ã«æ™‚é–“ãŒã‹ã‹ã‚‹', type: 'M' },
            { id: 42, text: 'å¿…è¦ãªé›»å­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã™ãã«å–ã‚Šå‡ºã›ãšã€æ¢ã™ã®ã«æ™‚é–“ãŒã‹ã‹ã‚‹', type: 'M' },
            { id: 43, text: 'éå»ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ´»ç”¨ã™ã‚‹ç­‰ã§ã€éƒ¨é–€ã«è“„ç©ã•ã‚ŒãŸãƒŠãƒ¬ãƒƒã‚¸ã‚’æ´»ç”¨ã§ãã¦ã„ãªã„', type: 'M' },
            { id: 44, text: 'çªç™ºä½œæ¥­ãŒå¤šãã€è¨ˆç”»çš„ã«ä»•äº‹ã‚’é€²ã‚ã‚‰ã‚Œã¦ã„ãªã„', type: 'M' },
            { id: 45, text: 'ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã®ä½œæ¥­å†…å®¹ãƒ»ä½œæ¥­é€²æ—ãƒ»ä½œæ¥­çµæœãŒè¦‹ãˆãªã„ï¼ˆåˆ†ã‹ã‚‰ãªã„ï¼‰', type: 'M' },
            { id: 46, text: 'æ™‚é–“ã‚ãŸã‚Šç”Ÿç”£æ€§ã‚’æ„è­˜ã—ã¦åƒãã“ã¨ãŒã§ãã¦ã„ãªã„', type: 'P' },
            { id: 47, text: 'ç®¡ç†è·ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ™‚é–“ãŒå¤šãã€ãƒãƒ¼ãƒ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆãŒååˆ†ã«ã§ãã¦ã„ãªã„', type: 'U' },
            { id: 48, text: 'ç•°å‹•ãŒå¤šãã€å¼•ç¶™ãã®ãŸã‚ã«ç”Ÿç”£æ€§ãŒå¤§ããè½ã¡ã¦ã„ã‚‹', type: 'M' },
            { id: 49, text: 'é¡§å®¢ã‚„ç¾å ´ãªã©ã‚ªãƒ•ã‚£ã‚¹å¤–ã«å±…ã‚‹æ™‚é–“ã‚’å¢—ã‚„ã—ãŸã„ãŒã€ã‚ªãƒ•ã‚£ã‚¹å†…ã§ã®äº‹å‹™ä½œæ¥­ãŒå¤šã„', type: 'M' },
            { id: 50, text: 'éƒ¨é–€ã§æŠ±ãˆã¦ã„ã‚‹å•é¡Œç‚¹ãŒæ•´ç†ã•ã‚Œã¦è¦‹ãˆã¦ã„ãªã„', type: 'M' }
        ];

        const itTools = [
            {
                name: 'RPA',
                businessType: 'routine',
                description: 'äººãŒPCã§è¡Œã†å®šå‹ä½œæ¥­ã‚’ãƒ­ãƒœãƒƒãƒˆã‚½ãƒ•ãƒˆã«è¨˜æ†¶ã•ã›ã‚‹ã“ã¨ã§ã€äººã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»£æ›¿',
                benefits: ['å®šå‹ä½œæ¥­ã®åŠ¹ç‡åŒ–', 'å¤œé–“å‡¦ç†ã«ã‚ˆã‚‹ãƒªãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ çŸ­ç¸®', 'ãƒŸã‚¹ã®å‰Šæ¸›']
            },
            {
                name: 'ãƒã‚¯ãƒ­/VBA',
                businessType: 'routine',
                description: 'Excelå†…ã®è¤‡æ•°ã®æ“ä½œã‚’è‡ªå‹•åŒ–ã™ã‚‹æ©Ÿèƒ½',
                benefits: ['Excelä½œæ¥­ã®åŠ¹ç‡åŒ–', 'ç¹°ã‚Šè¿”ã—å‡¦ç†ã®è‡ªå‹•åŒ–']
            },
            {
                name: 'OCR',
                businessType: 'routine',
                description: 'PDFç­‰ã®ç”»åƒãƒ‡ãƒ¼ã‚¿ã®ãƒ†ã‚­ã‚¹ãƒˆéƒ¨åˆ†ã‚’èªè­˜ã—ã€æ–‡å­—ãƒ‡ãƒ¼ã‚¿ã«å¤‰æ›',
                benefits: ['ç´™ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ä½œæ¥­å‰Šæ¸›', 'ãƒšãƒ¼ãƒ‘ãƒ¬ã‚¹åŒ–', 'åœ¨åº«å‰Šæ¸›']
            },
            {
                name: 'ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³',
                businessType: 'judgment',
                description: 'æ¥­å‹™çŸ¥è­˜ã‚’ãƒ«ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦è“„ç©ã—ã€é«˜åº¦ãªæ„æ€æ±ºå®šã‚’è‡ªå‹•åŒ–',
                benefits: ['åˆ¤æ–­æ¥­å‹™ã®è‡ªå‹•åŒ–', 'ãƒã‚¦ãƒã‚¦ã®å½¢å¼çŸ¥åŒ–']
            },
            {
                name: 'ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ',
                businessType: 'judgment',
                description: 'ãƒ­ãƒœãƒƒãƒˆãŒãƒãƒ£ãƒƒãƒˆä¸Šã§è‡ªå‹•ä¼šè©±ã‚’è¡Œã†ãƒ„ãƒ¼ãƒ«',
                benefits: ['å•åˆã›å¯¾å¿œã®åŠ¹ç‡åŒ–', '24æ™‚é–“å¯¾å¿œ', 'é¡§å®¢æº€è¶³åº¦å‘ä¸Š']
            },
            {
                name: 'IoT',
                businessType: 'judgment',
                description: 'ãƒ¢ãƒãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ã¤ãªãŒã‚Šã€é éš”ã‹ã‚‰ç›£è¦–ãƒ»æ“ä½œãƒ»åˆ¶å¾¡',
                benefits: ['ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–', 'è‡ªå‹•è¨˜éŒ²', 'ç•°å¸¸æ¤œçŸ¥']
            },
            {
                name: 'ã‚°ãƒ«ãƒ¼ãƒ—ã‚¦ã‚§ã‚¢',
                businessType: 'cross_department',
                description: 'æƒ…å ±å…±æœ‰ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€æ¥­å‹™åŠ¹ç‡åŒ–ã‚’æ”¯æ´',
                benefits: ['æƒ…å ±å…±æœ‰åŒ–', 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ´»ç™ºåŒ–', 'ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯å¯¾å¿œ']
            },
            {
                name: 'ãƒãƒ¼ã‚³ãƒ¼ãƒ‰/ãƒ­ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¢ãƒ—ãƒªé–‹ç™º',
                businessType: 'cross_department',
                description: 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ä¸è¦ã¾ãŸã¯å°‘é‡ã®ã‚³ãƒ¼ãƒ‰ã§æ¥­å‹™ã‚¢ãƒ—ãƒªã‚’é–‹ç™º',
                benefits: ['æƒ…å ±ä¸€å…ƒåŒ–', 'Excelç®¡ç†ã‹ã‚‰ã®è„±å´', 'éƒ¨é–€é–“é€£æºå¼·åŒ–']
            },
            {
                name: 'ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ',
                businessType: 'cross_department',
                description: 'ç”³è«‹å†…å®¹ã«å¿œã˜ãŸæ‰¿èªãƒ«ãƒ¼ãƒˆã€æ‰¿èªæ–¹æ³•ã§æ‰¿èªãƒ»æ±ºè£',
                benefits: ['æ‰¿èªãƒ•ãƒ­ãƒ¼é€Ÿåº¦å‘ä¸Š', 'æ¥­å‹™ãƒ•ãƒ­ãƒ¼æ¨™æº–åŒ–', 'ãƒ†ãƒ¬ãƒ¯ãƒ¼ã‚¯å¯¾å¿œ']
            },
            {
                name: 'BIï¼ˆãƒ“ã‚¸ãƒã‚¹ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ã‚¹ï¼‰',
                businessType: 'project',
                description: 'æ§˜ã€…ãªãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æãƒ»è¦‹ãˆã‚‹åŒ–ã—ã€æ„æ€æ±ºå®šã‚’æ”¯æ´',
                benefits: ['é›†è¨ˆä½œæ¥­ã®åŠ¹ç‡åŒ–', 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿ç¢ºèª', 'æ„æ€æ±ºå®šã‚¹ãƒ”ãƒ¼ãƒ‰å‘ä¸Š']
            },
            {
                name: 'ç”ŸæˆAI',
                businessType: 'project',
                description: 'ãƒ†ã‚­ã‚¹ãƒˆã€ç”»åƒç­‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è‡ªå¾‹çš„ã«ç”Ÿæˆ',
                benefits: ['æƒ…å ±åé›†ã®åŠ¹ç‡åŒ–', 'ä»®èª¬ç«‹æ¡ˆæ”¯æ´', 'æ–‡ç« ä½œæˆæ”¯æ´']
            }
        ];

        // ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
        function App() {
            const [activeTab, setActiveTab] = useState('home');
            const [tasks, setTasks] = useState([]);
            const [selectedProblems, setSelectedProblems] = useState([]);
            const [improvements, setImprovements] = useState([]);
            const [storageAvailable, setStorageAvailable] = useState(true);
            
            // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰èª­ã¿è¾¼ã¿
            useEffect(() => {
                try {
                    const savedTasks = storage.getItem('businessTasks');
                    const savedProblems = storage.getItem('selectedProblems');
                    const savedImprovements = storage.getItem('improvements');
                    
                    if (savedTasks) setTasks(JSON.parse(savedTasks));
                    if (savedProblems) setSelectedProblems(JSON.parse(savedProblems));
                    if (savedImprovements) setImprovements(JSON.parse(savedImprovements));
                    setStorageAvailable(true);
                } catch (e) {
                    console.warn('Failed to load from storage:', e);
                    setStorageAvailable(false);
                }
            }, []);

            // ãƒ‡ãƒ¼ã‚¿ä¿å­˜
            useEffect(() => {
                if (tasks.length > 0) {
                    storage.setItem('businessTasks', JSON.stringify(tasks));
                }
            }, [tasks]);

            useEffect(() => {
                if (selectedProblems.length > 0) {
                    storage.setItem('selectedProblems', JSON.stringify(selectedProblems));
                }
            }, [selectedProblems]);

            useEffect(() => {
                if (improvements.length > 0) {
                    storage.setItem('improvements', JSON.stringify(improvements));
                }
            }, [improvements]);

            return (
                <div className="container">
                    <div className="header">
                        <h1>ğŸ“Š æ¥­å‹™åŠ¹ç‡åŒ–è¨ºæ–­ãƒ»æ”¹å–„è¨ˆç”»ãƒ„ãƒ¼ãƒ«</h1>
                        <p>æ¥­å‹™ã®è¦‹ãˆã‚‹åŒ–ã‹ã‚‰æ”¹å–„è¨ˆç”»ç«‹æ¡ˆã¾ã§ã‚’æ”¯æ´ã—ã¾ã™</p>
                    </div>
                    
                    <div className="nav">
                        <button 
                            className={`nav-button ${activeTab === 'home' ? 'active' : ''}`}
                            onClick={() => setActiveTab('home')}
                        >
                            ğŸ  ãƒ›ãƒ¼ãƒ 
                        </button>
                        <button 
                            className={`nav-button ${activeTab === 'tasks' ? 'active' : ''}`}
                            onClick={() => setActiveTab('tasks')}
                        >
                            ğŸ“‹ æ¥­å‹™æ£šå¸ã—
                        </button>
                        <button 
                            className={`nav-button ${activeTab === 'problems' ? 'active' : ''}`}
                            onClick={() => setActiveTab('problems')}
                        >
                            ğŸ” å•é¡Œç‚¹è¨ºæ–­
                        </button>
                        <button 
                            className={`nav-button ${activeTab === 'tools' ? 'active' : ''}`}
                            onClick={() => setActiveTab('tools')}
                        >
                            ğŸ› ï¸ ITãƒ„ãƒ¼ãƒ«æ¨å¥¨
                        </button>
                        <button 
                            className={`nav-button ${activeTab === 'analysis' ? 'active' : ''}`}
                            onClick={() => setActiveTab('analysis')}
                        >
                            ğŸ“Š è‡ªå‹•è¨ºæ–­
                        </button>
                        <button 
                            className={`nav-button ${activeTab === 'plan' ? 'active' : ''}`}
                            onClick={() => setActiveTab('plan')}
                        >
                            ğŸ“ æ”¹å–„è¨ˆç”»
                        </button>
                    </div>

                    <div className="content">
                        {!storageAvailable && (
                            <div className="alert alert-info" style={{ marginBottom: '20px' }}>
                                âš ï¸ ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ©Ÿèƒ½ãŒåˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ãŒã€ãƒ„ãƒ¼ãƒ«ã¯æ­£å¸¸ã«å‹•ä½œã—ã¾ã™ã€‚
                            </div>
                        )}
                        {activeTab === 'home' && <HomeTab tasks={tasks} selectedProblems={selectedProblems} improvements={improvements} setActiveTab={setActiveTab} />}
                        {activeTab === 'tasks' && <TasksTab tasks={tasks} setTasks={setTasks} />}
                        {activeTab === 'problems' && <ProblemsTab selectedProblems={selectedProblems} setSelectedProblems={setSelectedProblems} />}
                        {activeTab === 'analysis' && <AnalysisTab tasks={tasks} selectedProblems={selectedProblems} />}
                        {activeTab === 'tools' && <ToolsTab tasks={tasks} />}
                        {activeTab === 'plan' && <PlanTab improvements={improvements} setImprovements={setImprovements} selectedProblems={selectedProblems} />}
                    </div>
                </div>
            );
        }

        // ãƒ›ãƒ¼ãƒ ã‚¿ãƒ–
        function HomeTab({ tasks, selectedProblems, improvements, setActiveTab }) {
            const totalHours = tasks.reduce((sum, task) => sum + task.hours, 0);
            const problemCount = selectedProblems.length;
            const improvementCount = improvements.length;
            
            const progress = Math.min(
                ((tasks.length > 0 ? 25 : 0) + 
                (problemCount > 0 ? 25 : 0) + 
                (improvementCount > 0 ? 50 : 0)), 
                100
            );

            return (
                <div>
                    <div className="section">
                        <h2 className="section-title">é€²æ—çŠ¶æ³</h2>
                        <div className="progress-bar">
                            <div className="progress-fill" style={{ width: `${progress}%` }}>
                                {progress}%
                            </div>
                        </div>
                        <p style={{ fontSize: '14px', color: '#64748b', marginTop: '10px' }}>
                            æ¥­å‹™åŠ¹ç‡åŒ–ã®å–ã‚Šçµ„ã¿çŠ¶æ³ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†
                        </p>
                    </div>

                    <div className="stats-grid">
                        <div className="stat-card">
                            <div className="stat-value">{tasks.length}</div>
                            <div className="stat-label">ç™»éŒ²æ¥­å‹™æ•°</div>
                        </div>
                        <div className="stat-card">
                            <div className="stat-value">{Math.round(totalHours)}</div>
                            <div className="stat-label">å¹´é–“ç·æ¥­å‹™æ™‚é–“ï¼ˆæ™‚é–“ï¼‰</div>
                        </div>
                        <div className="stat-card">
                            <div className="stat-value">{problemCount}</div>
                            <div className="stat-label">ç‰¹å®šã•ã‚ŒãŸå•é¡Œç‚¹</div>
                        </div>
                        <div className="stat-card">
                            <div className="stat-value">{improvementCount}</div>
                            <div className="stat-label">æ”¹å–„è¨ˆç”»æ•°</div>
                        </div>
                    </div>

                    <div className="section">
                        <h2 className="section-title">ä½¿ã„æ–¹</h2>
                        <div className="card">
                            <h3 style={{ marginBottom: '15px', color: '#1e40af' }}>ğŸ“‹ STEP1: æ¥­å‹™æ£šå¸ã—</h3>
                            <p style={{ fontSize: '14px', lineHeight: '1.8', color: '#374151' }}>
                                ã¾ãšã€Œæ¥­å‹™æ£šå¸ã—ã€ã‚¿ãƒ–ã§ã€ç¾åœ¨è¡Œã£ã¦ã„ã‚‹æ¥­å‹™ã‚’ç™»éŒ²ã—ã¾ã™ã€‚æ¥­å‹™åã€å¹´é–“æ¥­å‹™æ™‚é–“ã€æ¥­å‹™ã‚¿ã‚¤ãƒ—ãªã©ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
                            </p>
                        </div>
                        <div className="card">
                            <h3 style={{ marginBottom: '15px', color: '#1e40af' }}>ğŸ” STEP2: å•é¡Œç‚¹è¨ºæ–­</h3>
                            <p style={{ fontSize: '14px', lineHeight: '1.8', color: '#374151' }}>
                                ã€Œå•é¡Œç‚¹è¨ºæ–­ã€ã‚¿ãƒ–ã§ã€50ã®ä¸å…·åˆç¾è±¡ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‹ã‚‰è©²å½“ã™ã‚‹å•é¡Œç‚¹ã‚’é¸æŠã—ã¾ã™ã€‚
                            </p>
                        </div>
                        <div className="card">
                            <h3 style={{ marginBottom: '15px', color: '#1e40af' }}>ğŸ“Š STEP3: è‡ªå‹•è¨ºæ–­</h3>
                            <p style={{ fontSize: '14px', lineHeight: '1.8', color: '#374151' }}>
                                ã€Œè‡ªå‹•è¨ºæ–­ã€ã‚¿ãƒ–ã§ã€ç™»éŒ²ã—ãŸæ¥­å‹™ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•åˆ†æã—ã€æ¥­å‹™æ™‚é–“ã®é©æ­£æ€§ã€æ¥­å‹™ã‚¿ã‚¤ãƒ—ãƒ»è² è·ã®ãƒãƒ©ãƒ³ã‚¹ã€é«˜è² è·æ¥­å‹™ã®æŠ½å‡ºã€å…·ä½“çš„ãªæ”¹å–„ææ¡ˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
                            </p>
                        </div>
                        <div className="card">
                            <h3 style={{ marginBottom: '15px', color: '#1e40af' }}>ğŸ› ï¸ STEP4: ITãƒ„ãƒ¼ãƒ«æ¨å¥¨</h3>
                            <p style={{ fontSize: '14px', lineHeight: '1.8', color: '#374151' }}>
                                ç™»éŒ²ã—ãŸæ¥­å‹™ã®ç‰¹æ€§ã«å¿œã˜ã¦ã€é©åˆ‡ãªITãƒ„ãƒ¼ãƒ«ã‚’ææ¡ˆã—ã¾ã™ã€‚
                            </p>
                        </div>
                        <div className="card">
                            <h3 style={{ marginBottom: '15px', color: '#1e40af' }}>ğŸ“ STEP5: æ”¹å–„è¨ˆç”»ç«‹æ¡ˆ</h3>
                            <p style={{ fontSize: '14px', lineHeight: '1.8', color: '#374151' }}>
                                å•é¡Œç‚¹ã«å¯¾ã™ã‚‹æ”¹å–„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è¨˜éŒ²ã—ã€æ”¹å–„è¨ˆç”»ã‚’ç«‹æ¡ˆã—ã¾ã™ã€‚
                            </p>
                        </div>
                    </div>

                    {tasks.length > 0 && (
                        <div className="section">
                            <h2 className="section-title">ğŸš€ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h2>
                            <div className="card" style={{ background: 'linear-gradient(135deg, #dbeafe, #bfdbfe)', border: 'none' }}>
                                <h3 style={{ fontSize: '16px', marginBottom: '10px', color: '#1e40af' }}>
                                    âœ¨ æ¥­å‹™ãƒ‡ãƒ¼ã‚¿ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸï¼
                                </h3>
                                <p style={{ fontSize: '14px', lineHeight: '1.8', color: '#1e3a8a', marginBottom: '15px' }}>
                                    ã€ŒğŸ“Š è‡ªå‹•è¨ºæ–­ã€ã‚¿ãƒ–ã§ã€è©³ç´°ãªåˆ†æãƒ¬ãƒãƒ¼ãƒˆã¨æ”¹å–„ææ¡ˆã‚’ç¢ºèªã§ãã¾ã™ã€‚
                                </p>
                                <button 
                                    className="button"
                                    onClick={() => setActiveTab('analysis')}
                                    style={{ background: 'linear-gradient(135deg, #2563eb, #7c3aed)' }}
                                >
                                    ğŸ“Š è‡ªå‹•è¨ºæ–­ã‚’å®Ÿè¡Œã™ã‚‹
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        // æ¥­å‹™æ£šå¸ã—ã‚¿ãƒ–
        function TasksTab({ tasks, setTasks }) {
            const [taskName, setTaskName] = useState('');
            const [timePerTask, setTimePerTask] = useState('');
            const [frequency, setFrequency] = useState('daily');
            const [frequencyCount, setFrequencyCount] = useState('');
            const [businessType, setBusinessType] = useState('routine');
            const [workload, setWorkload] = useState('normal');

            const addTask = () => {
                if (!taskName || !timePerTask || !frequencyCount) {
                    alert('ã™ã¹ã¦ã®é …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return;
                }

                const multiplier = {
                    'daily': 230,
                    'weekly': 50,
                    'monthly': 12,
                    'yearly': 1
                }[frequency];

                const annualHours = (parseFloat(timePerTask) / 60) * parseFloat(frequencyCount) * multiplier;

                const newTask = {
                    id: Date.now(),
                    name: taskName,
                    timePerTask: parseFloat(timePerTask),
                    frequency,
                    frequencyCount: parseFloat(frequencyCount),
                    businessType,
                    workload,
                    hours: annualHours
                };

                setTasks([...tasks, newTask]);
                
                // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ
                setTaskName('');
                setTimePerTask('');
                setFrequencyCount('');
            };

            const deleteTask = (id) => {
                if (confirm('ã“ã®æ¥­å‹™ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {
                    setTasks(tasks.filter(task => task.id !== id));
                }
            };

            const totalHours = tasks.reduce((sum, task) => sum + task.hours, 0);

            return (
                <div>
                    <div className="section">
                        <h2 className="section-title">æ¥­å‹™ã®ç™»éŒ²</h2>
                        <div className="card">
                            <div className="input-group">
                                <label>æ¥­å‹™å *</label>
                                <input 
                                    type="text" 
                                    placeholder="ä¾‹ï¼šå£²ä¸Šãƒ‡ãƒ¼ã‚¿ã®åˆ†æã¨å ±å‘Šæ›¸ä½œæˆ"
                                    value={taskName}
                                    onChange={(e) => setTaskName(e.target.value)}
                                />
                            </div>
                            
                            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>
                                <div className="input-group">
                                    <label>1å›ã‚ãŸã‚Šæ™‚é–“ï¼ˆåˆ†ï¼‰ *</label>
                                    <input 
                                        type="number" 
                                        placeholder="30"
                                        value={timePerTask}
                                        onChange={(e) => setTimePerTask(e.target.value)}
                                    />
                                </div>
                                
                                <div className="input-group">
                                    <label>é »åº¦ *</label>
                                    <select value={frequency} onChange={(e) => setFrequency(e.target.value)}>
                                        <option value="daily">æ—¥</option>
                                        <option value="weekly">é€±</option>
                                        <option value="monthly">æœˆ</option>
                                        <option value="yearly">å¹´</option>
                                    </select>
                                </div>
                                
                                <div className="input-group">
                                    <label>é »åº¦å›æ•° *</label>
                                    <input 
                                        type="number" 
                                        placeholder="1"
                                        value={frequencyCount}
                                        onChange={(e) => setFrequencyCount(e.target.value)}
                                    />
                                </div>
                            </div>

                            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>
                                <div className="input-group">
                                    <label>æ¥­å‹™ã‚¿ã‚¤ãƒ—</label>
                                    <select value={businessType} onChange={(e) => setBusinessType(e.target.value)}>
                                        {businessTypes.map(type => (
                                            <option key={type.value} value={type.value}>
                                                {type.label}
                                            </option>
                                        ))}
                                    </select>
                                </div>
                                
                                <div className="input-group">
                                    <label>æ¥­å‹™è² è·</label>
                                    <select value={workload} onChange={(e) => setWorkload(e.target.value)}>
                                        {workloadLevels.map(level => (
                                            <option key={level.value} value={level.value}>
                                                {level.label}
                                            </option>
                                        ))}
                                    </select>
                                </div>
                            </div>

                            <button className="button" onClick={addTask}>
                                â• æ¥­å‹™ã‚’è¿½åŠ 
                            </button>
                        </div>
                    </div>

                    {tasks.length > 0 && (
                        <div className="section">
                            <h2 className="section-title">ç™»éŒ²æ¸ˆã¿æ¥­å‹™ä¸€è¦§</h2>
                            <div className="alert alert-success">
                                å¹´é–“ç·æ¥­å‹™æ™‚é–“: <strong>{Math.round(totalHours)}æ™‚é–“</strong> 
                                ï¼ˆæ­£ç¤¾å“¡ã®å¹´é–“æ¥­å‹™æ™‚é–“ç›®å®‰: 1,800ï½2,200æ™‚é–“ï¼‰
                            </div>
                            
                            <table className="table">
                                <thead>
                                    <tr>
                                        <th>æ¥­å‹™å</th>
                                        <th>1å›æ™‚é–“</th>
                                        <th>é »åº¦</th>
                                        <th>å¹´é–“æ™‚é–“</th>
                                        <th>æ¥­å‹™ã‚¿ã‚¤ãƒ—</th>
                                        <th>æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {tasks.map(task => (
                                        <tr key={task.id}>
                                            <td>{task.name}</td>
                                            <td>{task.timePerTask}åˆ†</td>
                                            <td>
                                                {task.frequencyCount}å›/
                                                {{'daily': 'æ—¥', 'weekly': 'é€±', 'monthly': 'æœˆ', 'yearly': 'å¹´'}[task.frequency]}
                                            </td>
                                            <td>{Math.round(task.hours)}æ™‚é–“</td>
                                            <td>{businessTypes.find(t => t.value === task.businessType)?.label}</td>
                                            <td>
                                                <button 
                                                    className="button button-danger"
                                                    style={{ padding: '6px 12px', fontSize: '12px' }}
                                                    onClick={() => deleteTask(task.id)}
                                                >
                                                    å‰Šé™¤
                                                </button>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    )}
                </div>
            );
        }

        // å•é¡Œç‚¹è¨ºæ–­ã‚¿ãƒ–
        function ProblemsTab({ selectedProblems, setSelectedProblems }) {
            const toggleProblem = (problemId) => {
                if (selectedProblems.includes(problemId)) {
                    setSelectedProblems(selectedProblems.filter(id => id !== problemId));
                } else {
                    setSelectedProblems([...selectedProblems, problemId]);
                }
            };

            const mProblems = problems.filter(p => p.type === 'M');
            const pProblems = problems.filter(p => p.type === 'P');
            const uProblems = problems.filter(p => p.type === 'U');

            return (
                <div>
                    <div className="section">
                        <h2 className="section-title">å•é¡Œç‚¹è¨ºæ–­</h2>
                        <div className="alert alert-warning">
                            è©²å½“ã™ã‚‹å•é¡Œç‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚å•é¡Œç‚¹ã¯ã€ŒMé¢ï¼ˆæ¥­å‹™ã®ã‚„ã‚Šæ–¹ï¼‰ã€ã€ŒPé¢ï¼ˆæ‹…å½“è€…ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼‰ã€ã€ŒUé¢ï¼ˆäººæã®æœ‰åŠ¹æ´»ç”¨åº¦ï¼‰ã€ã®3ã¤ã®è¦–ç‚¹ã§åˆ†é¡ã•ã‚Œã¦ã„ã¾ã™ã€‚
                        </div>
                        
                        <div style={{ marginBottom: '20px', padding: '15px', background: '#dbeafe', borderRadius: '8px' }}>
                            <strong>é¸æŠä¸­ã®å•é¡Œç‚¹:</strong> {selectedProblems.length}ä»¶
                        </div>
                    </div>

                    <div className="section">
                        <h3 style={{ fontSize: '18px', fontWeight: 'bold', color: '#dc2626', marginBottom: '15px' }}>
                            ğŸ”§ Mé¢: Methodï¼ˆæ¥­å‹™ã®ã‚„ã‚Šæ–¹ï¼‰
                        </h3>
                        <div className="checkbox-list">
                            {mProblems.map(problem => (
                                <div key={problem.id} className="checkbox-item">
                                    <input 
                                        type="checkbox"
                                        id={`problem-${problem.id}`}
                                        checked={selectedProblems.includes(problem.id)}
                                        onChange={() => toggleProblem(problem.id)}
                                    />
                                    <label htmlFor={`problem-${problem.id}`}>
                                        {problem.id}. {problem.text}
                                    </label>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div className="section">
                        <h3 style={{ fontSize: '18px', fontWeight: 'bold', color: '#2563eb', marginBottom: '15px' }}>
                            ğŸ‘¤ Pé¢: Performanceï¼ˆæ‹…å½“è€…ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼‰
                        </h3>
                        <div className="checkbox-list">
                            {pProblems.map(problem => (
                                <div key={problem.id} className="checkbox-item">
                                    <input 
                                        type="checkbox"
                                        id={`problem-${problem.id}`}
                                        checked={selectedProblems.includes(problem.id)}
                                        onChange={() => toggleProblem(problem.id)}
                                    />
                                    <label htmlFor={`problem-${problem.id}`}>
                                        {problem.id}. {problem.text}
                                    </label>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div className="section">
                        <h3 style={{ fontSize: '18px', fontWeight: 'bold', color: '#059669', marginBottom: '15px' }}>
                            ğŸ‘¥ Ué¢: Utilizationï¼ˆäººæã®æœ‰åŠ¹æ´»ç”¨åº¦ï¼‰
                        </h3>
                        <div className="checkbox-list">
                            {uProblems.map(problem => (
                                <div key={problem.id} className="checkbox-item">
                                    <input 
                                        type="checkbox"
                                        id={`problem-${problem.id}`}
                                        checked={selectedProblems.includes(problem.id)}
                                        onChange={() => toggleProblem(problem.id)}
                                    />
                                    <label htmlFor={`problem-${problem.id}`}>
                                        {problem.id}. {problem.text}
                                    </label>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // è‡ªå‹•è¨ºæ–­ã‚¿ãƒ–ï¼ˆç¶šãï¼‰
        function AnalysisTab({ tasks, selectedProblems }) {
            if (tasks.length === 0) {
                return (
                    <div className="alert alert-warning">
                        æ¥­å‹™ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ã€Œæ¥­å‹™æ£šå¸ã—ã€ã‚¿ãƒ–ã‹ã‚‰æ¥­å‹™ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚
                    </div>
                );
            }

            const totalHours = tasks.reduce((sum, task) => sum + task.hours, 0);
            
            // æ¥­å‹™ã‚¿ã‚¤ãƒ—åˆ¥é›†è¨ˆ
            const typeAnalysis = tasks.reduce((acc, task) => {
                if (!acc[task.businessType]) {
                    acc[task.businessType] = { count: 0, hours: 0 };
                }
                acc[task.businessType].count++;
                acc[task.businessType].hours += task.hours;
                return acc;
            }, {});

            // æ¥­å‹™è² è·åˆ¥é›†è¨ˆ
            const workloadAnalysis = tasks.reduce((acc, task) => {
                if (!acc[task.workload]) {
                    acc[task.workload] = { count: 0, hours: 0 };
                }
                acc[task.workload].count++;
                acc[task.workload].hours += task.hours;
                return acc;
            }, {});

            // é«˜è² è·æ¥­å‹™ã®æŠ½å‡ºï¼ˆä¸Šä½5ä»¶ï¼‰
            const highLoadTasks = [...tasks]
                .sort((a, b) => b.hours - a.hours)
                .slice(0, 5);

            // è¨ºæ–­çµæœã®ç”Ÿæˆ
            const diagnostics = [];
            
            // ç·æ¥­å‹™æ™‚é–“ã®è¨ºæ–­
            if (totalHours < 1800) {
                diagnostics.push({
                    level: 'success',
                    title: 'âœ… ç·æ¥­å‹™æ™‚é–“ã¯é©æ­£ç¯„å›²å†…',
                    message: `å¹´é–“${Math.round(totalHours)}æ™‚é–“ã§ã€æ­£ç¤¾å“¡ã®æ¨™æº–ç¯„å›²ï¼ˆ1,800ï½2,200æ™‚é–“ï¼‰ã‚’ä¸‹å›ã£ã¦ã„ã¾ã™ã€‚ä½™åŠ›ãŒã‚ã‚‹ãŸã‚ã€æ–°è¦æ¥­å‹™ã®å—å…¥ã‚Œã‚„ã€ã‚ˆã‚Šä»˜åŠ ä¾¡å€¤ã®é«˜ã„æ¥­å‹™ã¸ã®æ³¨åŠ›ãŒå¯èƒ½ã§ã™ã€‚`,
                    priority: 'low'
                });
            } else if (totalHours <= 2200) {
                diagnostics.push({
                    level: 'success',
                    title: 'âœ… ç·æ¥­å‹™æ™‚é–“ã¯é©æ­£ç¯„å›²å†…',
                    message: `å¹´é–“${Math.round(totalHours)}æ™‚é–“ã§ã€æ­£ç¤¾å“¡ã®æ¨™æº–ç¯„å›²ï¼ˆ1,800ï½2,200æ™‚é–“ï¼‰å†…ã§ã™ã€‚ç¾çŠ¶ã®æ¥­å‹™é‡ã¯é©åˆ‡ã§ã™ãŒã€ä»Šå¾Œã®æ¥­å‹™å¢—åŠ ã«å‚™ãˆã¦åŠ¹ç‡åŒ–ã‚’æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚`,
                    priority: 'low'
                });
            } else if (totalHours <= 2500) {
                diagnostics.push({
                    level: 'warning',
                    title: 'âš ï¸ æ¥­å‹™æ™‚é–“ãŒéå¤§ã§ã™',
                    message: `å¹´é–“${Math.round(totalHours)}æ™‚é–“ã§ã€æ¨™æº–ç¯„å›²ã‚’${Math.round(totalHours - 2200)}æ™‚é–“è¶…éã—ã¦ã„ã¾ã™ã€‚æ…¢æ€§çš„ãªæ®‹æ¥­ãŒç™ºç”Ÿã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æ—©æ€¥ãªæ¥­å‹™æ”¹å–„ãŒå¿…è¦ã§ã™ã€‚`,
                    priority: 'high',
                    recommendations: [
                        'é«˜è² è·æ¥­å‹™ã®è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ–ã‚’æ¤œè¨',
                        'æ¥­å‹™ã®å„ªå…ˆé †ä½ä»˜ã‘ã¨å»ƒæ­¢ãƒ»å‰Šæ¸›ã®æ¤œè¨',
                        'æ¥­å‹™åˆ†æ‹…ã®è¦‹ç›´ã—'
                    ]
                });
            } else {
                diagnostics.push({
                    level: 'danger',
                    title: 'ğŸš¨ æ¥­å‹™æ™‚é–“ãŒå¤§å¹…ã«è¶…é',
                    message: `å¹´é–“${Math.round(totalHours)}æ™‚é–“ã§ã€æ¨™æº–ç¯„å›²ã‚’${Math.round(totalHours - 2200)}æ™‚é–“ã‚‚è¶…éã—ã¦ã„ã¾ã™ã€‚éé‡åŠ´åƒã®ãƒªã‚¹ã‚¯ãŒéå¸¸ã«é«˜ã„çŠ¶æ…‹ã§ã™ã€‚ç·Šæ€¥ã®å¯¾ç­–ãŒå¿…è¦ã§ã™ã€‚`,
                    priority: 'critical',
                    recommendations: [
                        'å³åº§ã«æ¥­å‹™ã®æ£šå¸ã—ã¨å»ƒæ­¢ãƒ»å‰Šæ¸›ã‚’å®Ÿæ–½',
                        'RPAç­‰ã®ITãƒ„ãƒ¼ãƒ«å°å…¥ã«ã‚ˆã‚‹å¤§å¹…ãªè‡ªå‹•åŒ–',
                        'æ¥­å‹™ã®å¤–æ³¨ãƒ»ã‚¢ã‚¦ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ã®æ¤œè¨',
                        'äººå“¡å¢—å¼·ã®æ¤œè¨'
                    ]
                });
            }

            // æ¥­å‹™ã‚¿ã‚¤ãƒ—ã®ãƒãƒ©ãƒ³ã‚¹è¨ºæ–­
            const routineRatio = (typeAnalysis['routine']?.hours || 0) / totalHours;
            if (routineRatio > 0.6) {
                diagnostics.push({
                    level: 'warning',
                    title: 'âš ï¸ å®šå‹æ¥­å‹™ã®æ¯”ç‡ãŒé«˜ã„',
                    message: `å®šå‹ãƒ»ç¹°è¿”ã—å‹æ¥­å‹™ãŒå…¨ä½“ã®${Math.round(routineRatio * 100)}%ã‚’å ã‚ã¦ã„ã¾ã™ã€‚è‡ªå‹•åŒ–ãƒ»åŠ¹ç‡åŒ–ã®ä½™åœ°ãŒå¤§ãã„ã§ã™ã€‚`,
                    priority: 'high',
                    recommendations: [
                        'RPAã€ãƒã‚¯ãƒ­/VBAã«ã‚ˆã‚‹è‡ªå‹•åŒ–',
                        'OCRã«ã‚ˆã‚‹ç´™æ›¸é¡ã®ãƒ‡ãƒ¼ã‚¿åŒ–',
                        'ç¾å ´å¸³ç¥¨ã®é›»å­åŒ–'
                    ]
                });
            }

            const judgmentRatio = (typeAnalysis['judgment']?.hours || 0) / totalHours;
            if (judgmentRatio > 0.4) {
                diagnostics.push({
                    level: 'info',
                    title: 'ğŸ’¡ åˆ¤æ–­å‹æ¥­å‹™ã®æ¯”ç‡ãŒé«˜ã„',
                    message: `åˆ¤æ–­å‹æ¥­å‹™ãŒå…¨ä½“ã®${Math.round(judgmentRatio * 100)}%ã‚’å ã‚ã¦ã„ã¾ã™ã€‚ãƒã‚¦ãƒã‚¦ã®å½¢å¼çŸ¥åŒ–ãŒé‡è¦ã§ã™ã€‚`,
                    priority: 'medium',
                    recommendations: [
                        'æ¥­å‹™ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®æ•´å‚™',
                        'ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³ã«ã‚ˆã‚‹åˆ¤æ–­ãƒ­ã‚¸ãƒƒã‚¯ã®è‡ªå‹•åŒ–',
                        'ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã«ã‚ˆã‚‹FAQå¯¾å¿œã®è‡ªå‹•åŒ–'
                    ]
                });
            }

            const crossDeptRatio = (typeAnalysis['cross_department']?.hours || 0) / totalHours;
            if (crossDeptRatio > 0.3) {
                diagnostics.push({
                    level: 'warning',
                    title: 'âš ï¸ éƒ¨é–€æ¨ªæ–­å‹æ¥­å‹™ã®æ¯”ç‡ãŒé«˜ã„',
                    message: `éƒ¨é–€æ¨ªæ–­å‹æ¥­å‹™ãŒå…¨ä½“ã®${Math.round(crossDeptRatio * 100)}%ã‚’å ã‚ã¦ã„ã¾ã™ã€‚ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®éåŠ¹ç‡ãŒç™ºç”Ÿã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚`,
                    priority: 'high',
                    recommendations: [
                        'ã‚°ãƒ«ãƒ¼ãƒ—ã‚¦ã‚§ã‚¢å°å…¥ã«ã‚ˆã‚‹æƒ…å ±å…±æœ‰ã®åŠ¹ç‡åŒ–',
                        'ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹æ‰¿èªãƒ—ãƒ­ã‚»ã‚¹ã®è‡ªå‹•åŒ–',
                        'ãƒãƒ¼ã‚³ãƒ¼ãƒ‰/ãƒ­ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¢ãƒ—ãƒªã«ã‚ˆã‚‹æ¥­å‹™ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰'
                    ]
                });
            }

            // æ¥­å‹™è² è·ã®è¨ºæ–­
            const heavyRatio = ((workloadAnalysis['heavy']?.hours || 0) + (workloadAnalysis['very_heavy']?.hours || 0)) / totalHours;
            if (heavyRatio > 0.5) {
                diagnostics.push({
                    level: 'warning',
                    title: 'âš ï¸ é«˜è² è·æ¥­å‹™ã®æ¯”ç‡ãŒé«˜ã„',
                    message: `é‡ã„ãƒ»éå¸¸ã«é‡ã„æ¥­å‹™ãŒå…¨ä½“ã®${Math.round(heavyRatio * 100)}%ã‚’å ã‚ã¦ã„ã¾ã™ã€‚å¾“æ¥­å“¡ã®ç–²åŠ´ã‚„ã‚¹ãƒˆãƒ¬ã‚¹ãŒæ‡¸å¿µã•ã‚Œã¾ã™ã€‚`,
                    priority: 'high',
                    recommendations: [
                        'æ¥­å‹™ã®ç´°åˆ†åŒ–ã¨åˆ†æ‹…',
                        'ã‚¹ã‚­ãƒ«ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã«ã‚ˆã‚‹è² è·è»½æ¸›',
                        'åˆ¤æ–­åŸºæº–ã®æ˜ç¢ºåŒ–ã¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«æ•´å‚™'
                    ]
                });
            }

            // å±äººåŒ–ãƒªã‚¹ã‚¯ã®è¨ºæ–­
            if (selectedProblems.includes(6)) {
                diagnostics.push({
                    level: 'danger',
                    title: 'ğŸš¨ æ¥­å‹™ã®å±äººåŒ–ãƒªã‚¹ã‚¯',
                    message: 'æ¥­å‹™ãŒå±äººåŒ–ã—ã¦ã„ã‚‹ã¨å›ç­”ã•ã‚Œã¦ã„ã¾ã™ã€‚ç‰¹å®šã®æ‹…å½“è€…ã«ä¾å­˜ã™ã‚‹çŠ¶æ…‹ã¯ã€é€€è·ãƒ»ç•°å‹•æ™‚ã®ãƒªã‚¹ã‚¯ãŒé«˜ãã€æ¥­å‹™ç¶™ç¶šã«æ”¯éšœã‚’ããŸã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚',
                    priority: 'critical',
                    recommendations: [
                        'æ¥­å‹™ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã®ä½œæˆ',
                        'æ¥­å‹™ã®æ¨™æº–åŒ–ãƒ»å¯è¦–åŒ–',
                        'OJTä½“åˆ¶ã®æ•´å‚™',
                        'è¤‡æ•°åã§ã®æ¥­å‹™æ‹…å½“ï¼ˆãƒ€ãƒ–ãƒ«ã‚¢ã‚µã‚¤ãƒ³ï¼‰'
                    ]
                });
            }

            // ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›æ©Ÿèƒ½
            const exportToCSV = () => {
                const headers = ['æ¥­å‹™å', '1å›æ™‚é–“(åˆ†)', 'é »åº¦', 'å¹´é–“æ™‚é–“(æ™‚é–“)', 'æ¥­å‹™ã‚¿ã‚¤ãƒ—', 'æ¥­å‹™è² è·'];
                const rows = tasks.map(task => [
                    task.name,
                    task.timePerTask,
                    `${task.frequencyCount}å›/${{'daily': 'æ—¥', 'weekly': 'é€±', 'monthly': 'æœˆ', 'yearly': 'å¹´'}[task.frequency]}`,
                    Math.round(task.hours),
                    businessTypes.find(t => t.value === task.businessType)?.label,
                    workloadLevels.find(w => w.value === task.workload)?.label
                ]);

                const csvContent = [headers, ...rows]
                    .map(row => row.map(cell => `"${cell}"`).join(','))
                    .join('\n');

                const bom = '\uFEFF';
                const blob = new Blob([bom + csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `æ¥­å‹™ä¸€è¦§_${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
            };

            // å„ªå…ˆåº¦é †ã«ã‚½ãƒ¼ãƒˆ
            const sortedDiagnostics = [...diagnostics].sort((a, b) => {
                const priorityOrder = { critical: 0, high: 1, medium: 2, low: 3 };
                return priorityOrder[a.priority] - priorityOrder[b.priority];
            });

            return (
                <div>
                    <div className="section">
                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px' }}>
                            <h2 className="section-title" style={{ marginBottom: 0 }}>ğŸ“Š è‡ªå‹•è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ</h2>
                            <button className="button button-secondary" onClick={exportToCSV}>
                                ğŸ“¥ CSVå‡ºåŠ›
                            </button>
                        </div>
                        
                        <div className="stats-grid">
                            <div className="stat-card">
                                <div className="stat-value">{tasks.length}</div>
                                <div className="stat-label">ç·æ¥­å‹™æ•°</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{Math.round(totalHours)}</div>
                                <div className="stat-label">å¹´é–“ç·æ™‚é–“ï¼ˆæ™‚é–“ï¼‰</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{selectedProblems.length}</div>
                                <div className="stat-label">æ¤œå‡ºã•ã‚ŒãŸå•é¡Œç‚¹</div>
                            </div>
                            <div className="stat-card">
                                <div className="stat-value">{sortedDiagnostics.length}</div>
                                <div className="stat-label">è¨ºæ–­é …ç›®æ•°</div>
                            </div>
                        </div>
                    </div>

                    <div className="section">
                        <h2 className="section-title">ğŸ¯ è¨ºæ–­çµæœ</h2>
                        {sortedDiagnostics.map((diag, index) => (
                            <div 
                                key={index}
                                className="card"
                                style={{
                                    borderLeft: `4px solid ${
                                        diag.level === 'danger' ? '#dc2626' :
                                        diag.level === 'warning' ? '#f59e0b' :
                                        diag.level === 'success' ? '#10b981' : '#3b82f6'
                                    }`
                                }}
                            >
                                <h4 style={{ 
                                    fontSize: '16px', 
                                    marginBottom: '10px',
                                    color: diag.level === 'danger' ? '#dc2626' :
                                           diag.level === 'warning' ? '#f59e0b' :
                                           diag.level === 'success' ? '#059669' : '#2563eb'
                                }}>
                                    {diag.title}
                                </h4>
                                <p style={{ fontSize: '14px', lineHeight: '1.6', marginBottom: '10px', color: '#374151' }}>
                                    {diag.message}
                                </p>
                                {diag.recommendations && (
                                    <div style={{ 
                                        marginTop: '15px', 
                                        padding: '15px', 
                                        background: '#f8fafc', 
                                        borderRadius: '8px' 
                                    }}>
                                        <strong style={{ fontSize: '14px', color: '#1e40af' }}>
                                            ğŸ’¡ æ¨å¥¨ã•ã‚Œã‚‹æ”¹å–„ç­–:
                                        </strong>
                                        <ul style={{ marginTop: '8px', marginLeft: '20px' }}>
                                            {diag.recommendations.map((rec, i) => (
                                                <li key={i} style={{ fontSize: '14px', lineHeight: '1.8', color: '#374151' }}>
                                                    {rec}
                                                </li>
                                            ))}
                                        </ul>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>

                    <div className="section">
                        <h2 className="section-title">ğŸ“ˆ æ¥­å‹™ã‚¿ã‚¤ãƒ—åˆ¥åˆ†æ</h2>
                        <div className="card">
                            <table className="table">
                                <thead>
                                    <tr>
                                        <th>æ¥­å‹™ã‚¿ã‚¤ãƒ—</th>
                                        <th>æ¥­å‹™æ•°</th>
                                        <th>å¹´é–“æ™‚é–“</th>
                                        <th>å‰²åˆ</th>
                                        <th>æ¨å¥¨ITãƒ„ãƒ¼ãƒ«</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {Object.entries(typeAnalysis).map(([type, data]) => {
                                        const typeInfo = businessTypes.find(t => t.value === type);
                                        const ratio = (data.hours / totalHours * 100).toFixed(1);
                                        const tools = itTools
                                            .filter(tool => tool.businessType === type)
                                            .map(tool => tool.name)
                                            .join(', ');
                                        
                                        return (
                                            <tr key={type}>
                                                <td>{typeInfo?.label}</td>
                                                <td>{data.count}ä»¶</td>
                                                <td>{Math.round(data.hours)}æ™‚é–“</td>
                                                <td>
                                                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>
                                                        <div style={{ 
                                                            flex: 1, 
                                                            height: '20px', 
                                                            background: '#e5e7eb', 
                                                            borderRadius: '10px',
                                                            overflow: 'hidden'
                                                        }}>
                                                            <div style={{
                                                                width: `${ratio}%`,
                                                                height: '100%',
                                                                background: 'linear-gradient(90deg, #3b82f6, #8b5cf6)',
                                                                transition: 'width 0.3s'
                                                            }} />
                                                        </div>
                                                        <span style={{ fontSize: '14px', fontWeight: '600' }}>{ratio}%</span>
                                                    </div>
                                                </td>
                                                <td style={{ fontSize: '12px', color: '#64748b' }}>{tools}</td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div className="section">
                        <h2 className="section-title">âš¡ æ¥­å‹™è² è·åˆ¥åˆ†æ</h2>
                        <div className="card">
                            <table className="table">
                                <thead>
                                    <tr>
                                        <th>è² è·ãƒ¬ãƒ™ãƒ«</th>
                                        <th>æ¥­å‹™æ•°</th>
                                        <th>å¹´é–“æ™‚é–“</th>
                                        <th>å‰²åˆ</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {Object.entries(workloadAnalysis).map(([level, data]) => {
                                        const levelInfo = workloadLevels.find(w => w.value === level);
                                        const ratio = (data.hours / totalHours * 100).toFixed(1);
                                        
                                        return (
                                            <tr key={level}>
                                                <td>{levelInfo?.label}</td>
                                                <td>{data.count}ä»¶</td>
                                                <td>{Math.round(data.hours)}æ™‚é–“</td>
                                                <td>
                                                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>
                                                        <div style={{ 
                                                            flex: 1, 
                                                            height: '20px', 
                                                            background: '#e5e7eb', 
                                                            borderRadius: '10px',
                                                            overflow: 'hidden'
                                                        }}>
                                                            <div style={{
                                                                width: `${ratio}%`,
                                                                height: '100%',
                                                                background: level === 'very_heavy' ? '#dc2626' :
                                                                           level === 'heavy' ? '#f59e0b' :
                                                                           level === 'normal' ? '#3b82f6' : '#10b981',
                                                                transition: 'width 0.3s'
                                                            }} />
                                                        </div>
                                                        <span style={{ fontSize: '14px', fontWeight: '600' }}>{ratio}%</span>
                                                    </div>
                                                </td>
                                            </tr>
                                        );
                                    })}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div className="section">
                        <h2 className="section-title">ğŸ” é«˜è² è·æ¥­å‹™ãƒˆãƒƒãƒ—5</h2>
                        <div className="card">
                            <p style={{ fontSize: '14px', marginBottom: '15px', color: '#64748b' }}>
                                å¹´é–“æ¥­å‹™æ™‚é–“ãŒå¤šã„æ¥­å‹™ã§ã™ã€‚å„ªå…ˆçš„ã«åŠ¹ç‡åŒ–ã‚’æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚
                            </p>
                            <table className="table">
                                <thead>
                                    <tr>
                                        <th>é †ä½</th>
                                        <th>æ¥­å‹™å</th>
                                        <th>å¹´é–“æ™‚é–“</th>
                                        <th>æ¥­å‹™ã‚¿ã‚¤ãƒ—</th>
                                        <th>è² è·</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {highLoadTasks.map((task, index) => (
                                        <tr key={task.id}>
                                            <td style={{ fontWeight: 'bold', color: '#2563eb' }}>{index + 1}</td>
                                            <td>{task.name}</td>
                                            <td style={{ fontWeight: 'bold' }}>{Math.round(task.hours)}æ™‚é–“</td>
                                            <td>{businessTypes.find(t => t.value === task.businessType)?.label}</td>
                                            <td>{workloadLevels.find(w => w.value === task.workload)?.label}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            );
        }

        // ITãƒ„ãƒ¼ãƒ«æ¨å¥¨ã‚¿ãƒ–
        function ToolsTab({ tasks }) {
            const businessTypeCounts = tasks.reduce((acc, task) => {
                acc[task.businessType] = (acc[task.businessType] || 0) + 1;
                return acc;
            }, {});

            const recommendedTools = itTools.filter(tool => {
                return tasks.some(task => task.businessType === tool.businessType);
            });

            return (
                <div>
                    <div className="section">
                        <h2 className="section-title">æ¥­å‹™ã‚¿ã‚¤ãƒ—åˆ¥åˆ†æ</h2>
                        <div className="stats-grid">
                            {businessTypes.map(type => (
                                <div key={type.value} className="stat-card">
                                    <div className="stat-value">{businessTypeCounts[type.value] || 0}</div>
                                    <div className="stat-label">{type.label}</div>
                                </div>
                            ))}
                        </div>
                    </div>

                    <div className="section">
                        <h2 className="section-title">æ¨å¥¨ITãƒ„ãƒ¼ãƒ«</h2>
                        {recommendedTools.length === 0 ? (
                            <div className="alert alert-warning">
                                æ¥­å‹™ã‚’ç™»éŒ²ã™ã‚‹ã¨ã€æ¥­å‹™ã‚¿ã‚¤ãƒ—ã«å¿œã˜ãŸITãƒ„ãƒ¼ãƒ«ã‚’æ¨å¥¨ã—ã¾ã™ã€‚<br />
                                ã€Œæ¥­å‹™æ£šå¸ã—ã€ã‚¿ãƒ–ã‹ã‚‰æ¥­å‹™ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚
                            </div>
                        ) : (
                            recommendedTools.map((tool, index) => (
                                <div key={index} className="tool-recommendation">
                                    <h4>
                                        ğŸ› ï¸ {tool.name}
                                        <span style={{ fontSize: '12px', marginLeft: '10px', fontWeight: 'normal', color: '#92400e' }}>
                                            ï¼ˆå¯¾è±¡: {businessTypes.find(t => t.value === tool.businessType)?.label}ï¼‰
                                        </span>
                                    </h4>
                                    <p>{tool.description}</p>
                                    <div style={{ marginTop: '10px' }}>
                                        <strong style={{ fontSize: '13px' }}>å°å…¥åŠ¹æœ:</strong>
                                        <ul style={{ marginTop: '5px', marginLeft: '20px' }}>
                                            {tool.benefits.map((benefit, i) => (
                                                <li key={i} style={{ fontSize: '13px', lineHeight: '1.6' }}>{benefit}</li>
                                            ))}
                                        </ul>
                                    </div>
                                </div>
                            ))
                        )}
                    </div>

                    <div className="section">
                        <h2 className="section-title">å…¨ITãƒ„ãƒ¼ãƒ«ä¸€è¦§</h2>
                        {itTools.map((tool, index) => (
                            <div key={index} className="card">
                                <h4 style={{ color: '#1e40af', marginBottom: '10px' }}>
                                    {tool.name}
                                    <span style={{ fontSize: '12px', marginLeft: '10px', fontWeight: 'normal', color: '#64748b' }}>
                                        ï¼ˆ{businessTypes.find(t => t.value === tool.businessType)?.label}å‘ã‘ï¼‰
                                    </span>
                                </h4>
                                <p style={{ fontSize: '14px', lineHeight: '1.6', color: '#374151', marginBottom: '10px' }}>
                                    {tool.description}
                                </p>
                                <div>
                                    <strong style={{ fontSize: '13px' }}>å°å…¥åŠ¹æœ:</strong>
                                    <div style={{ marginTop: '5px', display: 'flex', flexWrap: 'wrap', gap: '5px' }}>
                                        {tool.benefits.map((benefit, i) => (
                                            <span key={i} style={{ 
                                                fontSize: '12px', 
                                                background: '#dbeafe', 
                                                padding: '4px 8px', 
                                                borderRadius: '4px',
                                                color: '#1e40af'
                                            }}>
                                                {benefit}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // æ”¹å–„è¨ˆç”»ã‚¿ãƒ–
        function PlanTab({ improvements, setImprovements, selectedProblems }) {
            const [improvementTitle, setImprovementTitle] = useState('');
            const [currentSituation, setCurrentSituation] = useState('');
            const [targetSituation, setTargetSituation] = useState('');
            const [actions, setActions] = useState('');
            const [deadline, setDeadline] = useState('');

            const addImprovement = () => {
                if (!improvementTitle || !currentSituation || !targetSituation) {
                    alert('å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return;
                }

                const newImprovement = {
                    id: Date.now(),
                    title: improvementTitle,
                    currentSituation,
                    targetSituation,
                    actions,
                    deadline,
                    status: 'planning',
                    createdAt: new Date().toLocaleDateString('ja-JP')
                };

                setImprovements([...improvements, newImprovement]);
                
                // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆ
                setImprovementTitle('');
                setCurrentSituation('');
                setTargetSituation('');
                setActions('');
                setDeadline('');
            };

            const deleteImprovement = (id) => {
                if (confirm('ã“ã®æ”¹å–„è¨ˆç”»ã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {
                    setImprovements(improvements.filter(imp => imp.id !== id));
                }
            };

            const updateStatus = (id, newStatus) => {
                setImprovements(improvements.map(imp => 
                    imp.id === id ? { ...imp, status: newStatus } : imp
                ));
            };

            const selectedProblemDetails = problems.filter(p => selectedProblems.includes(p.id));

            return (
                <div>
                    {selectedProblems.length > 0 && (
                        <div className="section">
                            <h2 className="section-title">ç‰¹å®šã•ã‚ŒãŸå•é¡Œç‚¹</h2>
                            <div className="card">
                                <p style={{ fontSize: '14px', marginBottom: '10px', color: '#64748b' }}>
                                    ä»¥ä¸‹ã®å•é¡Œç‚¹ãŒç‰¹å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã«å¯¾ã™ã‚‹æ”¹å–„è¨ˆç”»ã‚’ç«‹æ¡ˆã—ã¾ã—ã‚‡ã†ã€‚
                                </p>
                                <ul style={{ marginLeft: '20px' }}>
                                    {selectedProblemDetails.map(problem => (
                                        <li key={problem.id} style={{ fontSize: '14px', lineHeight: '1.8', color: '#374151' }}>
                                            {problem.text}
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        </div>
                    )}

                    <div className="section">
                        <h2 className="section-title">æ”¹å–„è¨ˆç”»ã®ç™»éŒ²</h2>
                        <div className="card">
                            <div className="input-group">
                                <label>æ”¹å–„ãƒ†ãƒ¼ãƒ *</label>
                                <input 
                                    type="text" 
                                    placeholder="ä¾‹ï¼šRPAå°å…¥ã«ã‚ˆã‚‹æœˆæ¬¡å ±å‘Šæ›¸ä½œæˆã®è‡ªå‹•åŒ–"
                                    value={improvementTitle}
                                    onChange={(e) => setImprovementTitle(e.target.value)}
                                />
                            </div>

                            <div className="input-group">
                                <label>ç¾çŠ¶ *</label>
                                <textarea 
                                    placeholder="ç¾åœ¨ã®å•é¡Œç‚¹ã‚„èª²é¡Œã‚’è¨˜å…¥ã—ã¦ãã ã•ã„"
                                    value={currentSituation}
                                    onChange={(e) => setCurrentSituation(e.target.value)}
                                />
                            </div>

                            <div className="input-group">
                                <label>ç›®æ¨™ *</label>
                                <textarea 
                                    placeholder="æ”¹å–„å¾Œã®ç›®æ¨™çŠ¶æ…‹ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„"
                                    value={targetSituation}
                                    onChange={(e) => setTargetSituation(e.target.value)}
                                />
                            </div>

                            <div className="input-group">
                                <label>å®Ÿæ–½ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</label>
                                <textarea 
                                    placeholder="å…·ä½“çš„ãªæ”¹å–„æ–½ç­–ã‚’è¨˜å…¥ã—ã¦ãã ã•ã„"
                                    value={actions}
                                    onChange={(e) => setActions(e.target.value)}
                                />
                            </div>

                            <div className="input-group">
                                <label>æœŸé™</label>
                                <input 
                                    type="date"
                                    value={deadline}
                                    onChange={(e) => setDeadline(e.target.value)}
                                />
                            </div>

                            <button className="button" onClick={addImprovement}>
                                â• æ”¹å–„è¨ˆç”»ã‚’è¿½åŠ 
                            </button>
                        </div>
                    </div>

                    {improvements.length > 0 && (
                        <div className="section">
                            <h2 className="section-title">ç™»éŒ²æ¸ˆã¿æ”¹å–„è¨ˆç”»</h2>
                            {improvements.map(improvement => (
                                <div key={improvement.id} className="card">
                                    <div className="card-header">
                                        <h3 className="card-title">{improvement.title}</h3>
                                        <div className="button-group">
                                            <select 
                                                value={improvement.status}
                                                onChange={(e) => updateStatus(improvement.id, e.target.value)}
                                                style={{ 
                                                    padding: '6px 12px', 
                                                    borderRadius: '6px', 
                                                    border: '2px solid #e5e7eb',
                                                    fontSize: '12px'
                                                }}
                                            >
                                                <option value="planning">è¨ˆç”»ä¸­</option>
                                                <option value="in_progress">å®Ÿæ–½ä¸­</option>
                                                <option value="completed">å®Œäº†</option>
                                            </select>
                                            <button 
                                                className="button button-danger"
                                                style={{ padding: '6px 12px', fontSize: '12px' }}
                                                onClick={() => deleteImprovement(improvement.id)}
                                            >
                                                å‰Šé™¤
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div style={{ fontSize: '12px', color: '#64748b', marginBottom: '15px' }}>
                                        ç™»éŒ²æ—¥: {improvement.createdAt}
                                        {improvement.deadline && ` | æœŸé™: ${improvement.deadline}`}
                                    </div>

                                    <div style={{ marginBottom: '10px' }}>
                                        <strong style={{ fontSize: '14px', color: '#1e40af' }}>ç¾çŠ¶:</strong>
                                        <p style={{ fontSize: '14px', lineHeight: '1.6', marginTop: '5px', color: '#374151' }}>
                                            {improvement.currentSituation}
                                        </p>
                                    </div>

                                    <div style={{ marginBottom: '10px' }}>
                                        <strong style={{ fontSize: '14px', color: '#059669' }}>ç›®æ¨™:</strong>
                                        <p style={{ fontSize: '14px', lineHeight: '1.6', marginTop: '5px', color: '#374151' }}>
                                            {improvement.targetSituation}
                                        </p>
                                    </div>

                                    {improvement.actions && (
                                        <div>
                                            <strong style={{ fontSize: '14px', color: '#7c3aed' }}>å®Ÿæ–½ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:</strong>
                                            <p style={{ fontSize: '14px', lineHeight: '1.6', marginTop: '5px', color: '#374151' }}>
                                                {improvement.actions}
                                            </p>
                                        </div>
                                    )}
                                </div>
                            ))}
                        </div>
                    )}
                </div>
            );
        }

        // ã‚¢ãƒ—ãƒªã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>